(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[11],{1197:function(e,t,n){"use strict";n.r(t),n.d(t,"ChooseFriendForDebtRequest",(function(){return C}));var r=n(20),s=n(44),a=n(672),c=n(628),d=n.n(c),i=n(671),o=n(629),l=n(160),u=n(161),b=n(164),p=n(163),h=n(162),j=n(1),f=n(636),m=n(643),O=n(627),x=n(1192),A=n(1199),v=n(1185),g=n(743),D=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).handleOpenAddDebt=function(){r.setState({openAddDebt:!0})},r.handleCloseAddDebt=function(){r.setState({openAddDebt:!1})},r.getNameFromAddress=Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new f.a.eth.Contract(m.a,r.props.friendAddress),e.t0=r,e.next=4,t.methods.getName().call();case 4:e.t1=e.sent,e.t2={friendName:e.t1},e.t0.setState.call(e.t0,e.t2);case 7:case"end":return e.stop()}}),e)}))),r.state={friendAddress:r.props.friendAddress,friendName:"",openAddDebt:!1},r.handleOpenAddDebt=r.handleOpenAddDebt.bind(Object(b.a)(r)),r.handleCloseAddDebt=r.handleCloseAddDebt.bind(Object(b.a)(r)),r.getNameFromAddress=r.getNameFromAddress.bind(Object(b.a)(r)),r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getNameFromAddress()}},{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(O.e,{block:!0,color:"light",className:"friend_button",onClick:this.handleOpenAddDebt,children:this.state.friendName}),Object(r.jsxs)(x.a,{open:this.state.openAddDebt,onClose:this.handleCloseAddDebt,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(A.a,{id:"form-dialog-title",className:"align_center",children:"Add Debt"}),Object(r.jsx)(v.a,{children:Object(r.jsx)(g.a,Object(s.a)(Object(s.a)({},this.props),{},{handleClose:this.handleCloseAddDebt}))})]})]})}}]),n}(j.Component),C=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).onCheckMyFriends=Object(o.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,r.props.profile.methods.getFriends().call();case 3:if(e.t1=e.sent,e.t2={friendsList:e.t1},e.t0.setState.call(e.t0,e.t2),!((t=r.state.friendsList.length)>0)){e.next=23;break}n=0;case 9:if(!(n<t)){e.next=23;break}return e.t3=r,e.t4=[],e.t5=Object(i.a)(r.state.allFriends),e.next=15,r.props.profile.methods.getFriendsByIndex(n).call();case 15:e.t6=e.sent,e.t7=[e.t6],e.t8=e.t4.concat.call(e.t4,e.t5,e.t7),e.t9={allFriends:e.t8},e.t3.setState.call(e.t3,e.t9);case 20:n++,e.next=9;break;case 23:case"end":return e.stop()}}),e)}))),r.state={friendsList:[],friend:[],allFriends:[]},r.onCheckMyFriends=r.onCheckMyFriends.bind(Object(b.a)(r)),r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof(t=window.ethereum)){e.next=4;break}return e.next=4,t.enable();case 4:this.onCheckMyFriends();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){console.log(this);for(var e=[],t=(this.state.friendsList.length,0),n=Object.entries(this.state.allFriends);t<n.length;t++){var c=Object(a.a)(n[t],2),d=c[0],i=c[1];e.push(Object(r.jsx)(D,Object(s.a)(Object(s.a)({},i),{},{playerOne:this.props.playerOne,friendAddress:i.friendAddress,profile:this.props.profile,setStateAndAmountOfExchanges:this.props.setStateAndAmountOfExchanges}),d))}var o=this.state.friendsList.length;return Object(r.jsx)("div",{children:Object(r.jsx)(O.l,{xs:"12",md:"4",children:Object(r.jsxs)(O.g,{children:[Object(r.jsx)(O.k,{className:"align_center",children:"Choose a friend"}),Object(r.jsx)(O.h,{className:"wrapper",children:0===o?Object(r.jsx)("h1",{children:"no friends yet"}):Object(r.jsx)(O.f,{vertical:!0,children:e})})]})})})}}]),n}(j.Component);t.default=C},743:function(e,t,n){"use strict";var r=n(20),s=n(165),a=n(628),c=n.n(a),d=n(629),i=n(160),o=n(161),l=n(164),u=n(163),b=n(162),p=n(1),h=n(627),j=n(630),f=n(636),m=n(643),O=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onSubmitAddDebtRequest=function(){var e=Object(d.a)(c.a.mark((function e(t){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f.a.eth.getAccounts();case 3:return n=e.sent,s=new f.a.eth.Contract(m.a,r.props.friendAddress),e.next=7,r.props.profile.methods.addDebtRequest(r.props.friendAddress,r.props.playerOne,r.state.providedAmount,r.props.friendAddress).send({from:n[0],gas:"1000000"});case 7:return e.next=9,s.methods.addDebtRequestNotRestricted(r.props.playerOne,r.props.playerOne,r.state.providedAmount,r.props.friendAddress).send({from:n[0],gas:"1000000"});case 9:return e.next=11,r.props.setStateAndAmountOfExchanges();case 11:r.props.handleClose();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={providedAmount:"",playerTwo:r.props.friendAddress,contractsList:[]},r.onChangeFormInput=r.onChangeFormInput.bind(Object(l.a)(r)),r.onSubmitAddDebtRequest=r.onSubmitAddDebtRequest.bind(Object(l.a)(r)),r}return Object(o.a)(n,[{key:"onChangeFormInput",value:function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;this.setState(Object(s.a)({},n,r))}},{key:"render",value:function(){return console.log(this),Object(r.jsx)("div",{children:Object(r.jsxs)(h.g,{children:[Object(r.jsx)(h.k,{className:"align_center",children:"Send Debt Request"}),Object(r.jsx)(h.h,{children:Object(r.jsxs)(h.u,{action:"",method:"post",onSubmit:this.onSubmitAddDebtRequest,children:[Object(r.jsx)(h.v,{children:Object(r.jsxs)(h.E,{children:[Object(r.jsx)(h.D,{id:"amountDebt",name:"providedAmount",placeholder:"Amount",autoComplete:"amount",onChange:this.onChangeFormInput}),Object(r.jsx)(h.F,{children:Object(r.jsx)(h.H,{children:Object(r.jsx)(j.a,{name:"cil-dollar"})})})]})}),Object(r.jsx)(h.v,{className:"form-actions align_center",children:Object(r.jsx)(h.e,{type:"submit",size:"sm",color:"secondary",className:"confirm_button",children:"Confirm"})})]})})]})})}}]),n}(p.Component);t.a=O}}]);
//# sourceMappingURL=11.1fa3420c.chunk.js.map