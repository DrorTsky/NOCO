(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[42],{840:function(e,t,n){"use strict";n.r(t);var r=n(20),a=n(652),s=n.n(a),c=n(730),o=n(161),u=n(162),i=n(164),d=n(163),f=n(1),l=n.n(f),p=n(731),h=n(821),m=l.a.lazy((function(){return n.e(5).then(n.bind(null,824))})),v="0xe5CC286DeB70167dab81c776e1f7cDfaDA43F8ca",w=v,x=n(822),g=new p.a.eth.Contract(h.a,v),y=function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).state={friendsAddress:"",friendRequestIndex:"",playerOne:"",providedAmount:"",playerTwo:""},e.onSubmitAddFriendRequest=function(){var t=Object(c.a)(s.a.mark((function t(n){var r,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(e){var t=new p.a.BatchRequest;console.log(r[0]),e.map((function(e){return new Promise((function(n,a){var s=e.request({from:r[0],gas:"1000000"},(function(e,t){e?a(e):n(t)}));t.add(s)}))})),t.execute()},n.preventDefault(),t.next=4,p.a.eth.getAccounts();case 4:r=t.sent,console.log(r),a=new p.a.eth.Contract(h.a,e.state.friendsAddress),c([g.methods.addFriendRequest(e.state.friendsAddress).send,a.methods.addFriendRequestNotRestricted(w).send]);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmitConfirmFriendRequest=function(){var t=Object(c.a)(s.a.mark((function t(n){var r,a,c,o,u,i,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=function(e){var t=new p.a.BatchRequest;e.map((function(e){return new Promise((function(n,a){var s=e.request({from:r[0],gas:"1000000"},(function(e,t){e?a(e):n(t)}));t.add(s)}))})),t.execute()},n.preventDefault(),t.next=4,p.a.eth.getAccounts();case 4:return r=t.sent,a=new p.a.eth.Contract(h.a,e.state.friendsAddress),t.next=8,a.methods.getAllExchanges().call();case 8:for(c=t.sent,u=0;u<c.length;u++)"0"===(i=c[u]).exchangePurpose&&i.exchangeDetails.source===e.state.friendsAddress&&(o=u);d([g.methods.confirmFriendRequest(0).send,a.methods.confirmFriendRequestNotRestricted(o).send]);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onCheckMyFriends=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("your friends are:"),e.t0=console,e.next=5,g.methods.getFriends().call();case 5:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onRemoveFriendsList=function(){var t=Object(c.a)(s.a.mark((function t(n){var r,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(e){var t=new p.a.BatchRequest;e.map((function(e){return new Promise((function(n,a){var s=e.request({from:r[0],gas:"1000000"},(function(e,t){e?a(e):n(t)}));t.add(s)}))})),t.execute()},n.preventDefault(),t.next=4,p.a.eth.getAccounts();case 4:r=t.sent,a=new p.a.eth.Contract(h.a,e.state.friendsAddress),c([g.methods.removeAllFriends().send,a.methods.removeAllFriends().send]);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmitAddDebtRequest=function(){var t=Object(c.a)(s.a.mark((function t(n){var r,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(e){var t=new p.a.BatchRequest;e.map((function(e){return new Promise((function(n,a){var s=e.request({from:r[0],gas:"1000000"},(function(e,t){e?a(e):n(t)}));t.add(s)}))})),t.execute()},n.preventDefault(),t.next=4,p.a.eth.getAccounts();case 4:r=t.sent,a=new p.a.eth.Contract(h.a,e.state.playerTwo),c([g.methods.addDebtRequest(e.state.playerTwo,e.state.playerOne,e.state.providedAmount,e.state.playerTwo).send,a.methods.addDebtRequestNotRestricted(e.state.playerOne,e.state.playerOne,e.state.providedAmount,e.state.playerTwo).send]);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmitConfirmDebtRequest=function(){var t=Object(c.a)(s.a.mark((function t(n){var r,a,c,o,u,i,d,f,l,m,v,w,y,b,A;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A=function(e){var t=new p.a.BatchRequest;e.map((function(e){return new Promise((function(n,a){var s=e.request({from:r[0],gas:"2000000"},(function(e,t){e?a(e):n(t)}));t.add(s)}))})),t.execute()},n.preventDefault(),t.next=4,p.a.eth.getAccounts();case 4:return r=t.sent,t.next=7,g.methods.getAllExchanges().call();case 7:return a=t.sent,c=a[0],e.setState({playerTwo:c.transaction.from}),e.setState({playerOne:c.transaction.to}),e.setState({providedAmount:c.transaction.amount}),t.next=14,g.methods.getContracts().call();case 14:o=t.sent,d=!1,f=0;case 17:if(!(f<o.length)){t.next=33;break}return t.next=20,new p.a.eth.Contract(JSON.parse(x.interface),u=o[f]);case 20:return l=t.sent,t.next=23,l.methods.getCurrentDebt().call();case 23:if(m=t.sent,!(v=[e.state.playerOne,e.state.playerTwo]).includes(String(m.debtor))||!v.includes(String(m.creditor))){t.next=30;break}return t.next=28,l.methods.addTransaction(e.state.playerOne,e.state.providedAmount,e.state.playerTwo).send({from:r[0],gas:"2000000"});case 28:return d=!0,t.abrupt("break",33);case 30:f++,t.next=17;break;case 33:if(d){t.next=40;break}return t.next=36,g.methods.createBinaryContract(e.state.playerOne,e.state.providedAmount,e.state.playerTwo).send({from:r[0],gas:"4000000"});case 36:return console.log("Binary contract was created successfully!"),t.next=39,g.methods.getLastContract().call();case 39:i=t.sent;case 40:return w=d?u:i,t.next=43,new p.a.eth.Contract(JSON.parse(x.interface),w);case 43:if(t.sent,y=new p.a.eth.Contract(h.a,e.state.playerTwo),!d){t.next=51;break}return t.next=48,g.methods.getZeroAddress().call();case 48:t.t0=t.sent,t.next=52;break;case 51:t.t0=i;case 52:b=t.t0,A([g.methods.confirmDebtRequest(0).send,y.methods.confirmDebtRequestNotRestricted(0,b).send]);case 54:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onCheckMyExchanges=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("your exchanges are:"),e.t0=console,e.next=5,g.methods.getAllExchanges().call();case 5:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onCheckMyContracts=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("your contracts are:"),e.t0=console,e.next=5,g.methods.getContracts().call();case 5:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onRemoveExchangesList=function(){var t=Object(c.a)(s.a.mark((function t(n){var r,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(e){var t=new p.a.BatchRequest;e.map((function(e){return new Promise((function(n,a){var s=e.request({from:r[0],gas:"2000000"},(function(e,t){e?a(e):n(t)}));t.add(s)}))})),t.execute()},n.preventDefault(),t.next=4,p.a.eth.getAccounts();case 4:r=t.sent,a=new p.a.eth.Contract(h.a,e.state.playerTwo),c([g.methods.removeAllExchanges().send,a.methods.removeAllExchanges().send]);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onRemoveContractsList=function(){var t=Object(c.a)(s.a.mark((function t(n){var r,a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(e){var t=new p.a.BatchRequest;e.map((function(e){return new Promise((function(n,a){var s=e.request({from:r[0],gas:"2000000"},(function(e,t){e?a(e):n(t)}));t.add(s)}))})),t.execute()},n.preventDefault(),t.next=4,p.a.eth.getAccounts();case 4:r=t.sent,a=new p.a.eth.Contract(h.a,e.state.playerTwo),c([g.methods.removeContracts().send,a.methods.removeContracts().send]);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChangeFriendAddress=function(t){t.preventDefault(),e.setState({friendsAddress:t.target.value})},e.handleChangeFriendRequestIndex=function(t){t.preventDefault(),e.setState({friendRequestIndex:t.target.value})},e.handleChangePlayerOne=function(t){t.preventDefault(),e.setState({playerOne:t.target.value})},e.handleChangeProvidedAmount=function(t){t.preventDefault(),e.setState({providedAmount:t.target.value})},e.handleChangePlayerTwo=function(t){t.preventDefault(),e.setState({playerTwo:t.target.value})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof(t=window.ethereum)){e.next=4;break}return e.next=4,t.enable();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsx)(m,{})}}]),n}(f.Component);t.default=y}}]);
//# sourceMappingURL=42.e22c7e85.chunk.js.map