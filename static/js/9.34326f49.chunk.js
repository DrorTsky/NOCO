(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[9],{1159:function(e,t,n){"use strict";var r=n(744),a=n(745);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(1)),s=(0,r(n(747)).default)(o.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=s},1194:function(e,t,n){"use strict";n.r(t),n.d(t,"Dashboard",(function(){return M}));var r=n(20),a=n(165),o=n(628),s=n.n(o),c=n(629),i=n(160),l=n(161),d=n(164),u=n(163),p=n(162),f=n(1),h=n(672),b=n(44),m=n(671),j=n(636),O=n(643),v=n(627),y=n(630),x=n(1192),g=n(1199),C=n(1185),A=n(1159),k=n.n(A),w=n(688),S=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={},r}return Object(l.a)(n,[{key:"render",value:function(){var e,t;console.log(this),this.props.to===this.props.myAddress?(e="success",t="".concat(this.props.amount," || From: ").concat(this.props.myName,", To:\n          ").concat(this.props.friendsName)):(e="danger",t="".concat(this.props.amount," || From: ").concat(this.props.friendsName,", To:\n          ").concat(this.props.myName));var n=Object(w.a)(this.props.date);return Object(r.jsx)("div",{children:Object(r.jsxs)(v.K,{accent:e,color:e,children:[t," ",n]})})}}]),n}(f.Component),N=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={allTransactions:e.allTransactions},r}return Object(l.a)(n,[{key:"render",value:function(){for(var e=[],t=0,n=Object.entries(this.state.allTransactions);t<n.length;t++){var a=Object(h.a)(n[t],2),o=a[0],s=a[1];e.push(Object(r.jsx)(S,Object(b.a)({myName:this.props.myName,myAddress:this.props.myAddress,friendsName:this.props.friendsName},s),o))}return Object(r.jsx)("div",{children:Object(r.jsx)(v.g,{children:Object(r.jsx)(v.h,{className:"scrollable",children:Object(r.jsx)(v.J,{accent:!0,children:e})})})})}}]),n}(f.Component),D=n(743),T=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).handleOpenTransactionLog=function(){r.setState({openTransactionLog:!0})},r.handleCloseTransactionLog=function(){r.setState({openTransactionLog:!1})},r.handleOpenAddDebt=function(){r.setState({openAddDebt:!0})},r.handleCloseAddDebt=function(){r.setState({openAddDebt:!1})},r.getNameFromAddress=Object(c.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.debtor===r.props.playerOne?r.props.creditor:r.props.debtor,r.setState({friendsAddress:t}),n=new j.a.eth.Contract(O.a,t),e.t0=r,e.next=6,n.methods.getName().call();case 6:e.t1=e.sent,e.t2={friendsName:e.t1},e.t0.setState.call(e.t0,e.t2);case 9:case"end":return e.stop()}}),e)}))),r.state={allTransactions:e.allTransactions,myName:e.myName,typeOfCard:e.typeOfCard,creditor:e.creditor,debtor:e.debtor,debt:e.debt,openTransactionLog:!1,openAddDebt:!1,friendsName:"",friendsAddress:""},r.handleOpenTransactionLog=r.handleOpenTransactionLog.bind(Object(d.a)(r)),r.handleCloseTransactionLog=r.handleCloseTransactionLog.bind(Object(d.a)(r)),r.handleOpenAddDebt=r.handleOpenAddDebt.bind(Object(d.a)(r)),r.handleCloseAddDebt=r.handleCloseAddDebt.bind(Object(d.a)(r)),r.getNameFromAddress=r.getNameFromAddress.bind(Object(d.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getNameFromAddress()}},{key:"render",value:function(){console.log(this);var e=this.state.myName===this.state.creditor?this.props.myName:this.state.friendsName,t="",n="";return"danger"===this.state.typeOfCard?(n="text-center red_text",t=Object(r.jsxs)(v.k,{children:[Object(r.jsx)("b",{children:"You owe"})," ",e]})):(n="text-center green_text",t=Object(r.jsxs)(v.k,{children:[e,Object(r.jsx)("br",{})," ",Object(r.jsx)("b",{children:"owes you"})]})),Object(r.jsx)("div",{children:Object(r.jsxs)(v.g,{className:n,children:[t,Object(r.jsxs)(v.h,{children:[Object(r.jsx)("blockquote",{className:"card-bodyquote",children:Object(r.jsx)("h1",{children:this.state.debt})}),Object(r.jsxs)("footer",{className:"footer_contract_list_element",children:[Object(r.jsxs)(v.e,{size:"sm",color:"dark",className:"buttons_inside_contract_list",onClick:this.handleOpenTransactionLog,children:[Object(r.jsx)(y.a,{name:"cil-scrubber"})," Transactions"]}),Object(r.jsxs)(x.a,{open:this.state.openTransactionLog,onClose:this.handleCloseTransactionLog,"aria-labelledby":"form-dialog-title",children:[Object(r.jsxs)(g.a,{id:"form-dialog-title",className:"align_center",children:["All transactions",Object(r.jsx)("div",{className:"card-header-actions",children:Object(r.jsx)(v.I,{className:"card-header-action",onClick:this.handleCloseTransactionLog,children:Object(r.jsx)(y.a,{name:"cil-x-circle"})})})]}),Object(r.jsx)(C.a,{children:Object(r.jsx)(N,{myName:this.state.myName,myAddress:this.props.address,allTransactions:this.state.allTransactions,friendsName:this.state.friendsName})})]}),Object(r.jsxs)(v.e,{size:"sm",color:"secondary",className:"buttons_inside_contract_list",onClick:this.handleOpenAddDebt,children:[Object(r.jsx)(k.a,{fontSize:"small"}),"Add Debt"]}),Object(r.jsxs)(x.a,{open:this.state.openAddDebt,onClose:this.handleCloseAddDebt,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(g.a,{id:"form-dialog-title",children:"Sum you gave"}),Object(r.jsx)(C.a,{children:Object(r.jsx)(D.a,Object(b.a)(Object(b.a)({},this.props),{},{friendAddress:this.state.friendsAddress,handleClose:this.handleCloseAddDebt}))})]})]})]})]})})}}]),n}(f.Component),L=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onCheckMyContracts=Object(c.a)(s.a.mark((function e(){var t,n,o,c,i,l,d,u,p,f,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,r.props.profile.methods.getContracts().call();case 3:if(e.t1=e.sent,e.t2={contractsList:e.t1},e.t0.setState.call(e.t0,e.t2),!((t=r.state.contractsList.length)>0)){e.next=23;break}n=0;case 9:if(!(n<t)){e.next=23;break}return e.t3=r,e.t4=[],e.t5=Object(m.a)(r.state.allContracts),e.next=15,r.props.profile.methods.getContractsByIndex(n).call();case 15:e.t6=e.sent,e.t7=[e.t6],e.t8=e.t4.concat.call(e.t4,e.t5,e.t7),e.t9={allContracts:e.t8},e.t3.setState.call(e.t3,e.t9);case 20:n++,e.next=9;break;case 23:o=0,e.t10=s.a.keys(r.state.contractsList);case 25:if((e.t11=e.t10()).done){e.next=48;break}return o=e.t11.value,e.next=29,new j.a.eth.Contract(JSON.parse(r.props.compiledBinaryContract.interface),r.state.contractsList[o]);case 29:return c=e.sent,e.next=32,c.methods.getCurrentCreditorAddress().call();case 32:return i=e.sent,e.next=35,c.methods.getCurrentDebtorAddress().call();case 35:return l=e.sent,e.next=38,c.methods.getCurrentDebtAmount().call();case 38:return d=e.sent,e.next=41,c.methods.getAllTransations().call();case 41:u=e.sent,p=i===r.props.playerOne?"danger":"success",f={allTransactions:u,typeOfCard:p,creditor:i,debtor:l,debt:d},h=Object(b.a)(Object(b.a)({},r.state.listInformation),{},Object(a.a)({},o,f)),r.setState({listInformation:h}),e.next=25;break;case 48:case"end":return e.stop()}}),e)}))),r.state={contractsList:[],allContracts:[],listInformation:{}},r.onCheckMyContracts=r.onCheckMyContracts.bind(Object(d.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof(t=window.ethereum)){e.next=4;break}return e.next=4,t.enable();case 4:this.onCheckMyContracts();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=[],t=0,n=Object.entries(this.state.listInformation);t<n.length;t++){var a=Object(h.a)(n[t],2),o=a[0],s=a[1];e.push(Object(r.jsx)(T,Object(b.a)(Object(b.a)({myAddress:this.props.playerOne},this.props),s),o))}var c=this.state.contractsList.length;return Object(r.jsx)("div",{children:0===c?Object(r.jsx)("h1",{children:"no active contracts"}):e})}}]),n}(f.Component),M=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onCheckMyContracts=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,r.props.profile.methods.getContracts().call();case 3:e.t1=e.sent,e.t2={contractsList:e.t1},e.t0.setState.call(e.t0,e.t2),t=0,e.t3=s.a.keys(r.state.contractsList);case 8:if((e.t4=e.t3()).done){e.next=15;break}return t=e.t4.value,e.next=12,new j.a.eth.Contract(JSON.parse(r.props.compiledBinaryContract.interface),r.state.contractsList[t]);case 12:e.sent,e.next=8;break;case 15:case"end":return e.stop()}}),e)}))),r.state={contractsList:[]},r.onChangeFormInput=r.onChangeFormInput.bind(Object(d.a)(r)),r.onCheckMyContracts=r.onCheckMyContracts.bind(Object(d.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof(t=window.ethereum)){e.next=4;break}return e.next=4,t.enable();case 4:this.onCheckMyContracts();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeFormInput",value:function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;this.setState(Object(a.a)({},n,r))}},{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(v.M,{children:Object(r.jsx)(v.l,{xs:"12",md:"8",xl:"8",children:Object(r.jsx)(L,{playerOne:this.props.address,address:this.props.address,playerTwo:this.props.playerTwo,profile:this.props.profile,compiledBinaryContract:this.props.compiledBinaryContract,myName:this.props.name,setStateAndAmountOfExchanges:this.props.setStateAndAmountOfExchanges})})})})}}]),n}(f.Component);t.default=M},688:function(e,t,n){"use strict";function r(e){var t=new Date(1e3*parseInt(e)),n=parseInt(t.getMinutes())<10?"0"+t.getMinutes():t.getMinutes();return t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear()+" "+t.getHours()+":"+n}n.d(t,"a",(function(){return r}))},743:function(e,t,n){"use strict";var r=n(20),a=n(165),o=n(628),s=n.n(o),c=n(629),i=n(160),l=n(161),d=n(164),u=n(163),p=n(162),f=n(1),h=n(627),b=n(630),m=n(636),j=n(643),O=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onSubmitAddDebtRequest=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.a.eth.getAccounts();case 3:return n=e.sent,a=new m.a.eth.Contract(j.a,r.props.friendAddress),e.next=7,r.props.profile.methods.addDebtRequest(r.props.friendAddress,r.props.playerOne,r.state.providedAmount,r.props.friendAddress).send({from:n[0],gas:"1000000"});case 7:return e.next=9,a.methods.addDebtRequestNotRestricted(r.props.playerOne,r.props.playerOne,r.state.providedAmount,r.props.friendAddress).send({from:n[0],gas:"1000000"});case 9:return e.next=11,r.props.setStateAndAmountOfExchanges();case 11:r.props.handleClose();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={providedAmount:"",playerTwo:r.props.friendAddress,contractsList:[]},r.onChangeFormInput=r.onChangeFormInput.bind(Object(d.a)(r)),r.onSubmitAddDebtRequest=r.onSubmitAddDebtRequest.bind(Object(d.a)(r)),r}return Object(l.a)(n,[{key:"onChangeFormInput",value:function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;this.setState(Object(a.a)({},n,r))}},{key:"render",value:function(){return console.log(this),Object(r.jsx)("div",{children:Object(r.jsxs)(h.g,{children:[Object(r.jsx)(h.k,{className:"align_center",children:"Send Debt Request"}),Object(r.jsx)(h.h,{children:Object(r.jsxs)(h.u,{action:"",method:"post",onSubmit:this.onSubmitAddDebtRequest,children:[Object(r.jsx)(h.v,{children:Object(r.jsxs)(h.E,{children:[Object(r.jsx)(h.D,{id:"amountDebt",name:"providedAmount",placeholder:"Amount",autoComplete:"amount",onChange:this.onChangeFormInput}),Object(r.jsx)(h.F,{children:Object(r.jsx)(h.H,{children:Object(r.jsx)(b.a,{name:"cil-dollar"})})})]})}),Object(r.jsx)(h.v,{className:"form-actions align_center",children:Object(r.jsx)(h.e,{type:"submit",size:"sm",color:"secondary",className:"confirm_button",children:"Confirm"})})]})})]})})}}]),n}(f.Component);t.a=O},744:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},745:function(e,t,n){var r=n(746);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var c=o?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(n,s,c):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n}},746:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(748)},748:function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",(function(){return r.a})),n.d(t,"createChainedFunction",(function(){return a.a})),n.d(t,"createSvgIcon",(function(){return f})),n.d(t,"debounce",(function(){return h})),n.d(t,"deprecatedPropType",(function(){return b})),n.d(t,"isMuiElement",(function(){return m})),n.d(t,"ownerDocument",(function(){return j.a})),n.d(t,"ownerWindow",(function(){return O.a})),n.d(t,"requirePropFactory",(function(){return v})),n.d(t,"setRef",(function(){return y.a})),n.d(t,"unsupportedProp",(function(){return x})),n.d(t,"useControlled",(function(){return g})),n.d(t,"useEventCallback",(function(){return C.a})),n.d(t,"useForkRef",(function(){return A.a})),n.d(t,"unstable_useId",(function(){return k})),n.d(t,"useIsFocusVisible",(function(){return F}));var r=n(651),a=n(687),o=n(12),s=n(1),c=n.n(s),i=n(631),l=(n(59),n(648)),d=n(652),u=s.forwardRef((function(e,t){var n=e.children,a=e.classes,c=e.className,d=e.color,u=void 0===d?"inherit":d,p=e.component,f=void 0===p?"svg":p,h=e.fontSize,b=void 0===h?"default":h,m=e.htmlColor,j=e.titleAccess,O=e.viewBox,v=void 0===O?"0 0 24 24":O,y=Object(i.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return s.createElement(f,Object(o.a)({className:Object(l.a)(a.root,c,"inherit"!==u&&a["color".concat(Object(r.a)(u))],"default"!==b&&a["fontSize".concat(Object(r.a)(b))]),focusable:"false",viewBox:v,color:m,"aria-hidden":!j||void 0,role:j?"img":void 0,ref:t},y),n,j?s.createElement("title",null,j):null)}));u.muiName="SvgIcon";var p=Object(d.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(u);function f(e,t){var n=function(t,n){return c.a.createElement(p,Object(o.a)({ref:n},t),e)};return n.muiName=p.muiName,c.a.memo(c.a.forwardRef(n))}function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=this,c=function(){e.apply(s,a)};clearTimeout(t),t=setTimeout(c,n)}return r.clear=function(){clearTimeout(t)},r}function b(e,t){return function(){return null}}function m(e,t){return s.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}var j=n(650),O=n(685);function v(e){return function(){return null}}var y=n(670);function x(e,t,n,r,a){return null}function g(e){var t=e.controlled,n=e.default,r=(e.name,e.state,s.useRef(void 0!==t).current),a=s.useState(n),o=a[0],c=a[1];return[r?t:o,s.useCallback((function(e){r||c(e)}),[])]}var C=n(686),A=n(649);function k(e){var t=s.useState(e),n=t[0],r=t[1],a=e||n;return s.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),a}var w=n(85),S=!0,N=!1,D=null,T={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function L(e){e.metaKey||e.altKey||e.ctrlKey||(S=!0)}function M(){S=!1}function _(){"hidden"===this.visibilityState&&N&&(S=!0)}function I(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return S||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!T[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function E(){N=!0,window.clearTimeout(D),D=window.setTimeout((function(){N=!1}),100)}function F(){return{isFocusVisible:I,onBlurVisible:E,ref:s.useCallback((function(e){var t,n=w.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",L,!0),t.addEventListener("mousedown",M,!0),t.addEventListener("pointerdown",M,!0),t.addEventListener("touchstart",M,!0),t.addEventListener("visibilitychange",_,!0))}),[])}}}}]);
//# sourceMappingURL=9.34326f49.chunk.js.map